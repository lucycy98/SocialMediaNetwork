{% extends 'web/base.html' %}

{% block title %} Index {% endblock %}
{% block head %}
{{ super() }}
<link rel='stylesheet' href='css/profile.css' />
{% endblock %}

{% block body %}

<div id=profile_cont>

    <h1>
        {{ profile['username'] }}
        {% if not isOwn %}
            <img class='icons' src=img/block.svg style="width: 1em; padding-left: 1em;">
        {% endif %}
    </h1>
    <table class=profile-table>
        <tr>
            <td class='head'>Connection address</td>
            <td class='cell-txt'>{{ profile['address'] }}</td> 
        </tr>
        <tr>
                <td class='head'>Connection location</td>
                <td class='cell-txt'>{{ profile['location'] }}</td> 
        </tr>
        <tr>
                <td class='head'>Public key</td>
                <td class='cell-txt'>{{ profile['pubkey'] }}</td> 
        </tr>
        <tr>
                <td class='head'>Status</td>
                <td class='cell-txt'>{{ profile['status'] }}</td>
        </tr>
    </table>


</div>

<div id="container">
    {% if isOwn %}
    <div class='block_container'>
            <div class='cont'>
                <form name="messageform">
                    <input type="text" name="q" placeholder='Make a public broadcast.'> </br></br>
                    <input type="submit" value="Send">
                </form>
            </div>
        </div>
    {% endif %}

    {% if broadcasts|length == 0 %}
    <div class='block_container'>
            <div class='cont'>
                This user has not made any broadcasts.
            </div>
        </div>
    
    {% endif %}

    {% for broadcast in broadcasts %}

        <div class='block_container'>
            <div class='cont'>
                <h3><a href='?name={{profile["username"]}}'>{{profile["username"]}}</a></h3>
                <p id=time-stamp>{{broadcast["time"]}}</p>
                <p>{{broadcast["message"]}}</p> </br>
                <img class='icons' src=img/like.svg style="width: 1.5em">
            </div>
        </div>
    {% endfor %}


</div>

{% endblock %}